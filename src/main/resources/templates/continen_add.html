<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:v-on="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8">
        <title>
            地域-编辑
        </title>
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="format-detection" content="telephone=no">
        <link rel="stylesheet" href="../static/css/x-admin.css" media="all">
        <script type="text/javascript" src="../static/js/jquery-3.3.1.js"></script>
        <script type="text/javascript" src="../static/js/vue.js"></script>
        <script src="../static/js/x-layui.js"></script>
        <script src="../static/lib/layui/layui.js" charset="utf-8"></script>

    </head>
    
    <body>
        <div class="x-body">
            <form class="layui-form">

<!--
            <form class="layui-form" th:action="insertContinen2" th:method="post">
-->
                <div class="layui-form-item">
                    <label class="layui-form-label">地域名称</label>
                    <div class="layui-input-inline">
                        <input type="text" name="continenName" class="layui-input" maxlength="15" placeholder="如（亚洲）">
                        <span class="con" style="color: red;font-size:10px;display: none;">请输入正确格式 如（亚洲）</span>
                    </div>
                </div>

                <div class="layui-form-item" style="display: none">
                    <label class="layui-form-label">地区Id</label>
                    <div class="layui-input-inline">
                        <input type="text" name="holidayId" class="layui-input" value="2">
                    </div>
                </div>
                    <input type="submit" class="layui-btn" value="提交" id="submit">
            </form>
        </div>
        <script>
            var continenNameze=/^[\u4E00-\u9FA5]{1,}$/;
            $(function () {
                $("[name='continenName']").on("blur",function () {
                    var continenName= $("[name='continenName']").val();
                    if(!continenNameze.test(continenName)){
                        $(this).focus();
                        $(this).next().show();
                        return;
                    }
                    $(this).next().hide();
                })
            })


            $(function () {
                $("#submit").on('click',function () {
                    var continenName=$('[name="continenName"]').val();
                    var holidayId=$('[name="holidayId"]').val();
                    if(continenName==""||continenName==null){
                      $('.con').text('*请输入地域名称！');
                      return false;
                    }
                    $.ajax({
                        url : "insertContinen2",
                        type : "post",
                        data :{"continenName":continenName,"holidayId":holidayId},
                        dataType : "json",
                        success : function(data){
                            alert('添加成功！');
                        },
                        error : function(data) {
                            x_admin_close();
                        }
                    })
                })
            })

            layui.use(['form','layer'], function(){
                $ = layui.jquery;
              var form = layui.form()
              ,layer = layui.layer;
            
             
              //监听提交
              /*form.on('submit(save)', function(data){
                console.log(data);
                layer.alert("提交成功", {icon: 6},function () {
                    // 获得frame索引
                    var index = parent.layer.getFrameIndex(window.name);
                    //关闭当前frame
                    parent.layer.close(index);
                });
                return false;
              });*/
            });
        </script>
        <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
        </script>
    </body>

</html>