<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>
       地域管理
    </title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="../static/css/x-admin.css" media="all">
    <script type="text/javascript" src="../static/js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="../static/js/vue.js"></script>
</head>
<body>

<div class="x-nav">
            <span class="layui-breadcrumb">
              <a><cite>首页</cite></a>
              <a><cite>地域管理</cite></a>
            </span>
</div>
<form class="layui-form x-center" action="" style="width:500px">
    <div class="layui-form-pane" style="margin-top: 15px;">
        <div class="layui-form-item">
            <div class="layui-input-inline" style="width:400px">
                <input type="text" name="username"  placeholder="搜索内容" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-input-inline" style="width:80px">
                <button class="layui-btn"  lay-submit="" lay-filter="sreach"><i class="layui-icon">&#xe615;</i></button>
            </div>
        </div>
    </div>
</form>
<div class="x-body">
    <div id="div">
    <table class="layui-table">

        <thead>
        <tr>
            <th>用户编号</th>
            <th>订单号</th>
            <th>下单时间</th>
            <th>订单金额</th>
            <th>目的地</th>
            <th>订单状态</th>
        </tr>
        </thead>
        <tbody id="x-link">
        <tr v-for="continent in page.list">
            <td  class="continentId">{{continent.orderId}}</td>
            <td>{{continent.orderNum}}</td>
            <td>{{continent.date}}</td>
            <td>{{continent.price}}</td>
            <td>{{continent.destination}}</td>
            <td>{{continent.status}}</td>
         <!--   <td>{{continent.customizeid}}</td>
            <td>{{continent.city}}</td>
            <td>{{continent.itemid}}</td>
            <td>{{continent.itemname}}</td>
            <td>{{continent.roomnum}}</td>-->
        </tr>
        </tbody>
    </table>

    <div id="page">
        <ul class="page-num-ul clearfix">
            <li>共条<span>{{page.totalCount}}</span>记录&nbsp;&nbsp;
                <span id="dangqian">{{page.pageIndex}}</span>/<span id="mo">{{page.totalPage}}</span> 页</li>
            <div v-if="page.pageIndex>1">
                <a id="shou" v-on:click="shou">首页</a>
                <a id="shang" v-on:click="shang">上一页</a>
            </div>
            <div v-if="page.pageIndex<page.totalPage">
                <a id="xia" v-on:click="xia">下一页</a>
                <a id="mo2" v-on:click="mo">最后一页</a>
            </div>
        </ul>
    </div>
</div>
</div>
</div>
<script>
   layui.use(['element','laypage','layer','form'], function(){
        $ = layui.jquery;//jquery
        lement = layui.element();//面包导航
       /* laypage = layui.laypage;//分页*/
        layer = layui.layer;//弹出层
        form = layui.form();//弹出层
    });

    /*用户-添加*/
    function Warning_management_add(title,url,w,h){
        x_admin_show(title,url,w,h);
    }

    // 编辑
    function data_management_look (title,url,id,w,h) {
        x_admin_show(title,url,w,h);
    }

   $(document).ready(function(){
      var index;
       var vuee=new Vue({
           el: "#div",
           data: {
               continent: [],
               page: {}
           },
           methods: {
               xia: function () {
                   index = parseInt($("#dangqian").text()) + 1;
                   fenye();
               },
               shang: function () {
                   index = parseInt($("#dangqian").text()) - 1;
                   fenye();
               },
               shou: function () {
                   index = 1;
                   fenye();
               },
               mo: function () {
                   index = parseInt($("#mo").text());
                   fenye();
               }
           }
       })
       //分页
       function fenye() {
           $.ajax({
               url:"ordercontrol",
               data:{pageIndex:index},
               type:"post",
               dataType:"json",
               success:function(data){
                   vuee.page=data;
               }

           })
       }
       $.ajax({
           url:"ordercontrol",
           data:{pageIndex:1},
           type:"post",
           dataType:"json",
           success:function(data){
               vuee.page=data;
           }
       })
   });
</script>

</body>
</html>